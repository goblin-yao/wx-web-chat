(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[317,791],{9791:function(e,t,n){"use strict";t.Z=function(){for(var e,t,n=0,s="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,s,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(s=e(t[n]))&&(i&&(i+=" "),i+=s);else for(n in t)t[n]&&(i&&(i+=" "),i+=n)}return i}(e))&&(s&&(s+=" "),s+=t);return s}},8438:function(e){e.exports={"input-range":"input-range_input-range__QBkD1"}},8297:function(e){e.exports={"window-header":"settings_window-header__w7XTu","window-header-title":"settings_window-header-title__fmVkZ","window-header-main-title":"settings_window-header-main-title__7Ns_y","window-header-sub-title":"settings_window-header-sub-title__KdcZf","window-actions":"settings_window-actions__Yr5r3","window-action-button":"settings_window-action-button__qv6O1",settings:"settings_settings__dC7Vo","settings-title":"settings_settings-title__2ADwu","settings-sub-title":"settings_settings-sub-title__m9yD8",avatar:"settings_avatar__yApsT","password-input":"settings_password-input__Y6OWC","password-eye":"settings_password-eye__yIfSb"}},3862:function(e,t,n){"use strict";n.r(t),n.d(t,{Settings:function(){return T}});var s,i,r,a,l=n(9268),o=n(6006),c=n(3031),d=n(8297),h=n.n(d),u=n(6254);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var m=function(e){return u.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),s||(s=u.createElement("defs",null,u.createElement("path",{id:"reload_svg__a",d:"M0 0h16v16H0z"}))),u.createElement("g",null,i||(i=u.createElement("mask",{id:"reload_svg__b",fill:"#fff"},u.createElement("use",{xlinkHref:"#reload_svg__a"}))),u.createElement("g",{mask:"url(#reload_svg__b)"},u.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(14 2.667)",d:"M0 0v5.33"}),u.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 8)",d:"M0 0v5.33"}),u.createElement("path",{style:{stroke:"#333",strokeWidth:1.333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 2)",d:"M12.003 6a6.005 6.005 0 0 0-10.32-4.17M0 6a6.005 6.005 0 0 0 10.17 4.32"}))))},w=n(5520);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var f=function(e){return u.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),r||(r=u.createElement("defs",null,u.createElement("path",{id:"clear_svg__a",d:"M0 0h16v16H0z"}))),u.createElement("g",null,a||(a=u.createElement("mask",{id:"clear_svg__b",fill:"#fff"},u.createElement("use",{xlinkHref:"#clear_svg__a"}))),u.createElement("g",{mask:"url(#clear_svg__b)"},u.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2.667 5)",d:"M1 9.67h8.67l1-9.67H0l1 9.67Z"}),u.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(6.667 8.334)",d:"M0 0v3.33"}),u.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(9.334 8.333)",d:"M0 0v3.33"}),u.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(4 1)",d:"m0 4 5.44-4L8 4"}))))},v=n(3822),_=n(2383),x=n(345),k=n(4409),b=n(5917),j=n(1777),y=n(9199),S=n(6602),C=n(2650),E=n(8438),P=n.n(E);function Z(e){let{onChange:t,title:n,value:s,className:i,min:r,max:a,step:o}=e;return(0,l.jsxs)("div",{className:P()["input-range"]+" ".concat(null!=i?i:""),children:[n||s,(0,l.jsx)("input",{type:"range",title:n,value:s,min:r,max:a,step:o,onChange:t})]})}function O(e){return(0,l.jsxs)(v.HC,{children:[(0,l.jsxs)("div",{className:h()["settings-title"],children:[(0,l.jsx)("div",{children:e.title}),e.subTitle&&(0,l.jsx)("div",{className:h()["settings-sub-title"],children:e.subTitle})]}),e.children]})}function T(e){var t;let[n,s]=(0,o.useState)(!1),[i,r,a,d,u]=(0,x.aK)(e=>[e.config,e.updateConfig,e.resetConfig,e.clearAllData,e.clearSessions]),g=(0,x.u2)(),[p,E]=(0,o.useState)(!1);(0,j.w1)(),g.remoteId;let[P,T]=(0,o.useState)(),[N,A]=(0,o.useState)(!1),D=(0,x._X)();(0,o.useMemo)(()=>D.enabledAccessControl(),[]);let M=(0,y.f5)();y.oD.count.builtin,M.prompts.size;let z=!!D.token||!!D.accessCode;return(0,o.useEffect)(()=>{(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];E(!0),g.getLatestCommitId(e).then(()=>{E(!1)})})(),z&&(A(!0),(0,S.b6)().then(e=>T(e)).finally(()=>{A(!1)}))},[]),(0,o.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e.closeSettings()};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[]),(0,l.jsxs)(C.S,{children:[(0,l.jsxs)("div",{className:h()["window-header"],children:[(0,l.jsxs)("div",{className:h()["window-header-title"],children:[(0,l.jsx)("div",{className:h()["window-header-main-title"],children:b.ZP.Settings.Title}),(0,l.jsx)("div",{className:h()["window-header-sub-title"],children:b.ZP.Settings.SubTitle})]}),(0,l.jsxs)("div",{className:h()["window-actions"],children:[(0,l.jsx)("div",{className:h()["window-action-button"],children:(0,l.jsx)(_.h,{icon:(0,l.jsx)(f,{}),onClick:()=>{let e=window.confirm("".concat(b.ZP.Settings.Actions.ConfirmClearAll.Confirm));e&&u()},bordered:!0,title:b.ZP.Settings.Actions.ClearAll})}),(0,l.jsx)("div",{className:h()["window-action-button"],children:(0,l.jsx)(_.h,{icon:(0,l.jsx)(m,{}),onClick:()=>{let e=window.confirm("".concat(b.ZP.Settings.Actions.ConfirmResetAll.Confirm));e&&a()},bordered:!0,title:b.ZP.Settings.Actions.ResetAll})}),(0,l.jsx)("div",{className:h()["window-action-button"],children:(0,l.jsx)(_.h,{icon:(0,l.jsx)(w.Z,{}),onClick:e.closeSettings,bordered:!0,title:b.ZP.Settings.Actions.Close})})]})]}),(0,l.jsxs)("div",{className:h().settings,children:[(0,l.jsxs)(v.aV,{children:[(0,l.jsx)(O,{title:b.ZP.Settings.Avatar,children:(0,l.jsx)(v.J2,{onClose:()=>s(!1),content:(0,l.jsx)(c.default,{lazyLoadEmojis:!0,theme:c.Theme.AUTO,getEmojiUrl:j.qc,onEmojiClick:e=>{r(t=>t.avatar=e.unified),s(!1)}}),open:n,children:(0,l.jsx)("div",{className:h().avatar,onClick:()=>s(!0),children:(0,l.jsx)(k.qE,{role:"user"})})})}),(0,l.jsx)(O,{title:b.ZP.Settings.SendKey,children:(0,l.jsx)("select",{value:i.submitKey,onChange:e=>{r(t=>t.submitKey=e.target.value)},children:Object.values(x.mQ).map(e=>(0,l.jsx)("option",{value:e,children:e},e))})}),(0,l.jsxs)(v.HC,{children:[(0,l.jsx)("div",{className:h()["settings-title"],children:b.ZP.Settings.Theme}),(0,l.jsx)("select",{value:i.theme,onChange:e=>{r(t=>t.theme=e.target.value)},children:Object.values(x.Q2).map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]}),(0,l.jsx)(O,{title:b.ZP.Settings.Lang.Name,children:(0,l.jsx)("select",{value:(0,b.VQ)(),onChange:e=>{(0,b.t4)(e.target.value)},children:b.DC.map(e=>(0,l.jsx)("option",{value:e,children:b.ZP.Settings.Lang.Options[e]},e))})}),(0,l.jsx)(O,{title:b.ZP.Settings.FontSize.Title,subTitle:b.ZP.Settings.FontSize.SubTitle,children:(0,l.jsx)(Z,{title:"".concat(null!==(t=i.fontSize)&&void 0!==t?t:14,"px"),value:i.fontSize,min:"12",max:"18",step:"1",onChange:e=>r(t=>t.fontSize=Number.parseInt(e.currentTarget.value))})}),(0,l.jsx)(O,{title:b.ZP.Settings.TightBorder,children:(0,l.jsx)("input",{type:"checkbox",checked:i.tightBorder,onChange:e=>r(t=>t.tightBorder=e.currentTarget.checked)})}),(0,l.jsx)(O,{title:b.ZP.Settings.SendPreviewBubble,children:(0,l.jsx)("input",{type:"checkbox",checked:i.sendPreviewBubble,onChange:e=>r(t=>t.sendPreviewBubble=e.currentTarget.checked)})})]}),(0,l.jsx)(v.aV,{children:(0,l.jsx)(O,{title:b.ZP.Settings.Prompt.Disable.Title,subTitle:b.ZP.Settings.Prompt.Disable.SubTitle,children:(0,l.jsx)("input",{type:"checkbox",checked:i.disablePromptHint,onChange:e=>r(t=>t.disablePromptHint=e.currentTarget.checked)})})})]})]})}}}]);